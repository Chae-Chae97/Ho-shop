# Register 画面定義書
### 📜 概要
<img src="../images/register.JPG" alt="イメージ説明" width="400" height="310" />

- 会員登録のための入力フォームを提供し、入力値の検証を通じてユーザーの情報をローカルストレージに保存します。
- ユーザーが正常に会員登録すると、メインページに移動します。

### 🔧 主要機能
- 名前、ID、パスワード、電話番号、Eメール、性別、メール受信同意の入力
- 入力されたパスワードの表示トグルボタン
- 入力値に対する有効性検証
- 登録完了時にlocalStorageに保存後、ホーム画面へ移動

### 📥 主要コンポーネントおよびフック
- Register	- ページ全体のロジックを担当するコンテナコンポーネント
- RegisterForm	- 入力フォームUIレンダリング (フォームの状態とイベントは上位から渡される)
- useEffect - 既存の保存されたユーザー情報を確認し、ユーザーの存在有無の状態を更新

### 🔍 onSubmit( )
- validate()で各フィールドの正規表現検査を実行
- エラーがない場合:
    - 電話番号の3つのフィールドの入力を1つに結合 (010-1234-5678)
    - localStorageにユーザー情報を保存
    - alertで確認メッセージを出力後、/へ移動

### 💾 useState 変数および役割
|変数|	説明|
|---|---|
|form|	名前、ID、パスワード、Eメールなど一般的な入力値|
|phone|	電話番号を3つのパートに分けて管理|
|errors|	有効性検証結果をフィールド別に保存|
|showPassword|	パスワードの表示/非表示トグル|
|hasUser|	既存ユーザーの存在有無 (メインに戻るボタン表示用)|
### validate( ) 関数の有効性検証基準
|項目|条件|   |
|---|---|---|
|ID|英字+数字 5～10文字|idPattern = /^[A-Za-z0-9]{5,10}$/;
|パスワード|英字+数字+特殊文字<br>含む8～20文字|pwPattern = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,20}$/;
|電話番号|3つの入力値を結合後10～11桁の数字|!/^\d{10,11}$/.test(phoneCombined)
|Eメール|Eメール形式 (@, . 含む)|emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
|名前|最低2文字以上|form.username.length >= 2
|性別|ラジオボタンの中から<br>1つ選択|form.sex の値チェック|
|メール受信同意|チェック必須 (required)|form.mailagree === true|

※ validate() 失敗時、該当項目に errors メッセージを出力