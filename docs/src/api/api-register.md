# ユーザー登録 (会員登録) API 定義書

### 📜 概要

-   **機能:** アプリケーションに新しいユーザーを登録し、ユーザー情報を`localStorage`に保存します。
-   **呼び出し時点:** 会員登録ページ(`/register`)でユーザーがすべての必須情報を入力し、「会員登録」ボタンをクリックしたときに呼び出されます。
-   **主要ロジックファイル:** `src/features/auth/RegisterForm.jsx` (`onSubmit` 関数)

---

### 📊 API 主要情報

*   **API 名称:** ユーザー登録 (クライアント内部処理)
*   **対象ストレージ:** `localStorage`
*   **処理概要:** 入力されたユーザー情報を有効性検証後、`localStorage`の`users`リストに追加して保存します。

---

### ➡️ リクエスト (Request)

#### クライアント内部関数呼び出し (onSubmit)

| フィールド名   | タイプ     | 説明                                     | 必須かどうか | 例値                     |
| ----------- | -------- | ---------------------------------------- | --------- | --------------------------- |
| `username`  | `string` | ユーザー名 (最低2文字以上)              | 必須      | `山田太郎`                  |
| `id`        | `string` | ユーザーID (5~10文字、英数字の組み合わせ)   | 必須      | `testuser1`                 |
| `password`  | `string` | パスワード (8~20文字、英数字/特殊文字の組み合わせ) | 必須      | `password123!`              |
| `phone`     | `string` | 電話番号 (ハイフンを含む)                   | 必須      | `010-1234-5678`             |
| `email`     | `string` | Eメールアドレス                              | 必須      | `test@example.com`          |
| `sex`       | `string` | 性別 (`男性` または `女性`)                | 必須      | `男性`                      |
| `mailagree` | `boolean`| メール受信同意の有無                      | 必須      | `true`                      |

---

### ⬅️ レスポンス (Response)

#### ✅ 成功レスポンス (クライアント内部処理)

*   **処理結果:** `localStorage`の`users`リストに新しいユーザー情報を追加し保存。
*   **ユーザーフィードバック:** 「会員登録が完了しました。」通知表示。
*   **画面遷移:** メインページ(`/`)へ移動。

#### ❌ エラーレスポンス (クライアント内部処理)

| エラータイプ         | ユーザーフィードバックメッセージ             | 説明                                     |
| ----------------- | -------------------------------- | ---------------------------------------- |
| `有効性検証失敗` | `[フィールド名] エラーメッセージ`           | 入力されたフィールドデータが有効性ルールを満たしていません。 (例: `IDは5〜10文字の英数字で入力してください。`) |
| `ID重複`         | `すでに存在するIDです。`         | 入力されたIDがすでに`localStorage`に存在します。 |